{"ast":null,"code":"var _jsxFileName = \"/Users/thomas/Documents/pancake-frontend/pankcake-frontend/src/views/FarmAuction/components/AuctionHistory.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { format } from 'date-fns';\nimport styled from 'styled-components';\nimport { Text, Flex, Box, Input, ArrowBackIcon, ArrowForwardIcon, ArrowLastIcon, IconButton, BunnyPlaceholderIcon, Spinner, useMatchBreakpoints } from '@pancakeswap/uikit';\nimport { useTranslation } from 'contexts/Localization';\nimport useAuctionHistory from '../hooks/useAuctionHistory';\nimport AuctionLeaderboardTable from './AuctionLeaderboard/AuctionLeaderboardTable';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StyledIconButton = styled(IconButton)`\n  width: 32px;\n\n  :disabled {\n    background: none;\n\n    svg {\n      fill: ${({\n  theme\n}) => theme.colors.textDisabled};\n\n      path {\n        fill: ${({\n  theme\n}) => theme.colors.textDisabled};\n      }\n    }\n  }\n`;\n_c = StyledIconButton;\n\nconst AuctionHistory = ({\n  mostRecentClosedAuctionId\n}) => {\n  _s();\n\n  const [historyAuctionId, setHistoryAuctionId] = useState(mostRecentClosedAuctionId ? mostRecentClosedAuctionId.toString() : '0');\n  const historyAuctionIdAsInt = parseInt(historyAuctionId, 10);\n  const {\n    t\n  } = useTranslation();\n  const {\n    isXs,\n    isSm,\n    isMd,\n    isLg,\n    isXl\n  } = useMatchBreakpoints();\n  const auctionHistory = useAuctionHistory(historyAuctionIdAsInt);\n  const selectedAuction = Object.values(auctionHistory).find(auctionData => auctionData.auction.id === historyAuctionIdAsInt);\n  let auctionTable = selectedAuction ? /*#__PURE__*/_jsxDEV(AuctionLeaderboardTable, {\n    bidders: selectedAuction.bidders,\n    noBidsText: \"No bids were placed in this auction\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(Flex, {\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    p: \"24px\",\n    height: \"250px\",\n    children: /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n\n  if (Number.isNaN(historyAuctionIdAsInt)) {\n    auctionTable = /*#__PURE__*/_jsxDEV(Flex, {\n      flexDirection: \"column\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      p: \"24px\",\n      height: \"250px\",\n      children: [/*#__PURE__*/_jsxDEV(Text, {\n        mb: \"8px\",\n        children: t('Please specify auction ID')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(BunnyPlaceholderIcon, {\n        height: \"64px\",\n        width: \"64px\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this);\n  }\n\n  const endDate = selectedAuction ? format(selectedAuction.auction.endDate, 'MMM. dd yyyy, hh:mm aa') : null;\n\n  const handleHistoryAuctionChange = event => {\n    const {\n      target: {\n        value\n      }\n    } = event;\n\n    if (value) {\n      let newAuctionId = value;\n\n      if (parseInt(value, 10) <= 0) {\n        newAuctionId = '';\n      }\n\n      if (parseInt(value, 10) >= mostRecentClosedAuctionId) {\n        newAuctionId = mostRecentClosedAuctionId.toString();\n      }\n\n      setHistoryAuctionId(newAuctionId);\n    } else {\n      setHistoryAuctionId('');\n    }\n  };\n\n  const handleArrowPress = auctionId => {\n    if (auctionId) {\n      setHistoryAuctionId(auctionId.toString());\n    } else {\n      // auctionId is NaN when the input is empty, the only button press that will trigger this func is 'forward one'\n      setHistoryAuctionId('1');\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Box, {\n    py: \"24px\",\n    children: [/*#__PURE__*/_jsxDEV(Flex, {\n      px: ['12px', '24px'],\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n      children: [/*#__PURE__*/_jsxDEV(Flex, {\n        flex: \"3\",\n        alignItems: \"center\",\n        children: [/*#__PURE__*/_jsxDEV(Text, {\n          bold: true,\n          fontSize: isLg || isXl ? '20px' : '16px',\n          mr: ['4px', '8px'],\n          children: t('Auction #')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          width: \"62px\",\n          mr: ['4px', '16px'],\n          children: /*#__PURE__*/_jsxDEV(Input, {\n            disabled: !mostRecentClosedAuctionId,\n            type: \"input\",\n            value: historyAuctionId,\n            onChange: handleHistoryAuctionChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(StyledIconButton, {\n          disabled: !historyAuctionIdAsInt || historyAuctionIdAsInt <= 1,\n          variant: \"text\",\n          scale: \"sm\",\n          mr: ['8px', '12px'],\n          onClick: () => handleArrowPress(historyAuctionIdAsInt - 1),\n          children: /*#__PURE__*/_jsxDEV(ArrowBackIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(StyledIconButton, {\n          disabled: historyAuctionIdAsInt >= mostRecentClosedAuctionId,\n          variant: \"text\",\n          scale: \"sm\",\n          mr: ['8px', '12px'],\n          onClick: () => handleArrowPress(historyAuctionIdAsInt + 1),\n          children: /*#__PURE__*/_jsxDEV(ArrowForwardIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(StyledIconButton, {\n          disabled: historyAuctionIdAsInt >= mostRecentClosedAuctionId,\n          variant: \"text\",\n          scale: \"sm\",\n          onClick: () => handleArrowPress(mostRecentClosedAuctionId),\n          children: /*#__PURE__*/_jsxDEV(ArrowLastIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this), (isLg || isXl) && /*#__PURE__*/_jsxDEV(Flex, {\n        flex: \"2\",\n        justifyContent: \"flex-end\",\n        children: endDate && /*#__PURE__*/_jsxDEV(Text, {\n          children: t('Ended %date%', {\n            date: endDate\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this), (isXs || isSm || isMd) && /*#__PURE__*/_jsxDEV(Flex, {\n      px: ['12px', '24px'],\n      pt: \"8px\",\n      children: endDate && /*#__PURE__*/_jsxDEV(Text, {\n        children: t('Ended %date%', {\n          date: endDate\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 23\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 9\n    }, this), mostRecentClosedAuctionId ? auctionTable : /*#__PURE__*/_jsxDEV(Flex, {\n      flexDirection: \"column\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      p: \"24px\",\n      height: \"250px\",\n      children: [/*#__PURE__*/_jsxDEV(Text, {\n        mb: \"8px\",\n        children: t('No history yet')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(BunnyPlaceholderIcon, {\n        height: \"64px\",\n        width: \"64px\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 103,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AuctionHistory, \"kYyiHqxYwZWSS95oxkAkdIcM5to=\", false, function () {\n  return [useTranslation, useMatchBreakpoints, useAuctionHistory];\n});\n\n_c2 = AuctionHistory;\nexport default AuctionHistory;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"StyledIconButton\");\n$RefreshReg$(_c2, \"AuctionHistory\");","map":{"version":3,"sources":["/Users/thomas/Documents/pancake-frontend/pankcake-frontend/src/views/FarmAuction/components/AuctionHistory.tsx"],"names":["React","useState","format","styled","Text","Flex","Box","Input","ArrowBackIcon","ArrowForwardIcon","ArrowLastIcon","IconButton","BunnyPlaceholderIcon","Spinner","useMatchBreakpoints","useTranslation","useAuctionHistory","AuctionLeaderboardTable","StyledIconButton","theme","colors","textDisabled","AuctionHistory","mostRecentClosedAuctionId","historyAuctionId","setHistoryAuctionId","toString","historyAuctionIdAsInt","parseInt","t","isXs","isSm","isMd","isLg","isXl","auctionHistory","selectedAuction","Object","values","find","auctionData","auction","id","auctionTable","bidders","Number","isNaN","endDate","handleHistoryAuctionChange","event","target","value","newAuctionId","handleArrowPress","auctionId","date"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,MAAT,QAAuB,UAAvB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SACEC,IADF,EAEEC,IAFF,EAGEC,GAHF,EAIEC,KAJF,EAKEC,aALF,EAMEC,gBANF,EAOEC,aAPF,EAQEC,UARF,EASEC,oBATF,EAUEC,OAVF,EAWEC,mBAXF,QAYO,oBAZP;AAaA,SAASC,cAAT,QAA+B,uBAA/B;AACA,OAAOC,iBAAP,MAA8B,4BAA9B;AACA,OAAOC,uBAAP,MAAoC,8CAApC;;AAMA,MAAMC,gBAAgB,GAAGf,MAAM,CAACQ,UAAD,CAAa;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,CAAC;AAAEQ,EAAAA;AAAF,CAAD,KAAeA,KAAK,CAACC,MAAN,CAAaC,YAAa;AACvD;AACA;AACA,gBAAgB,CAAC;AAAEF,EAAAA;AAAF,CAAD,KAAeA,KAAK,CAACC,MAAN,CAAaC,YAAa;AACzD;AACA;AACA;AACA,CAdA;KAAMH,gB;;AAgBN,MAAMI,cAA6C,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAmC;AAAA;;AACvF,QAAM,CAACC,gBAAD,EAAmBC,mBAAnB,IAA0CxB,QAAQ,CACtDsB,yBAAyB,GAAGA,yBAAyB,CAACG,QAA1B,EAAH,GAA0C,GADb,CAAxD;AAGA,QAAMC,qBAAqB,GAAGC,QAAQ,CAACJ,gBAAD,EAAmB,EAAnB,CAAtC;AAEA,QAAM;AAAEK,IAAAA;AAAF,MAAQd,cAAc,EAA5B;AAEA,QAAM;AAAEe,IAAAA,IAAF;AAAQC,IAAAA,IAAR;AAAcC,IAAAA,IAAd;AAAoBC,IAAAA,IAApB;AAA0BC,IAAAA;AAA1B,MAAmCpB,mBAAmB,EAA5D;AAEA,QAAMqB,cAAc,GAAGnB,iBAAiB,CAACW,qBAAD,CAAxC;AACA,QAAMS,eAAe,GAAGC,MAAM,CAACC,MAAP,CAAcH,cAAd,EAA8BI,IAA9B,CACrBC,WAAD,IAAiBA,WAAW,CAACC,OAAZ,CAAoBC,EAApB,KAA2Bf,qBADtB,CAAxB;AAIA,MAAIgB,YAAY,GAAGP,eAAe,gBAChC,QAAC,uBAAD;AAAyB,IAAA,OAAO,EAAEA,eAAe,CAACQ,OAAlD;AAA2D,IAAA,UAAU,EAAC;AAAtE;AAAA;AAAA;AAAA;AAAA,UADgC,gBAGhC,QAAC,IAAD;AAAM,IAAA,cAAc,EAAC,QAArB;AAA8B,IAAA,UAAU,EAAC,QAAzC;AAAkD,IAAA,CAAC,EAAC,MAApD;AAA2D,IAAA,MAAM,EAAC,OAAlE;AAAA,2BACE,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UAHF;;AAQA,MAAIC,MAAM,CAACC,KAAP,CAAanB,qBAAb,CAAJ,EAAyC;AACvCgB,IAAAA,YAAY,gBACV,QAAC,IAAD;AAAM,MAAA,aAAa,EAAC,QAApB;AAA6B,MAAA,cAAc,EAAC,QAA5C;AAAqD,MAAA,UAAU,EAAC,QAAhE;AAAyE,MAAA,CAAC,EAAC,MAA3E;AAAkF,MAAA,MAAM,EAAC,OAAzF;AAAA,8BACE,QAAC,IAAD;AAAM,QAAA,EAAE,EAAC,KAAT;AAAA,kBAAgBd,CAAC,CAAC,2BAAD;AAAjB;AAAA;AAAA;AAAA;AAAA,cADF,eAEE,QAAC,oBAAD;AAAsB,QAAA,MAAM,EAAC,MAA7B;AAAoC,QAAA,KAAK,EAAC;AAA1C;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAMD;;AAED,QAAMkB,OAAO,GAAGX,eAAe,GAAGlC,MAAM,CAACkC,eAAe,CAACK,OAAhB,CAAwBM,OAAzB,EAAkC,wBAAlC,CAAT,GAAuE,IAAtG;;AAEA,QAAMC,0BAA0B,GAAIC,KAAD,IAAgD;AACjF,UAAM;AACJC,MAAAA,MAAM,EAAE;AAAEC,QAAAA;AAAF;AADJ,QAEFF,KAFJ;;AAGA,QAAIE,KAAJ,EAAW;AACT,UAAIC,YAAY,GAAGD,KAAnB;;AACA,UAAIvB,QAAQ,CAACuB,KAAD,EAAQ,EAAR,CAAR,IAAuB,CAA3B,EAA8B;AAC5BC,QAAAA,YAAY,GAAG,EAAf;AACD;;AACD,UAAIxB,QAAQ,CAACuB,KAAD,EAAQ,EAAR,CAAR,IAAuB5B,yBAA3B,EAAsD;AACpD6B,QAAAA,YAAY,GAAG7B,yBAAyB,CAACG,QAA1B,EAAf;AACD;;AACDD,MAAAA,mBAAmB,CAAC2B,YAAD,CAAnB;AACD,KATD,MASO;AACL3B,MAAAA,mBAAmB,CAAC,EAAD,CAAnB;AACD;AACF,GAhBD;;AAkBA,QAAM4B,gBAAgB,GAAIC,SAAD,IAAuB;AAC9C,QAAIA,SAAJ,EAAe;AACb7B,MAAAA,mBAAmB,CAAC6B,SAAS,CAAC5B,QAAV,EAAD,CAAnB;AACD,KAFD,MAEO;AACL;AACAD,MAAAA,mBAAmB,CAAC,GAAD,CAAnB;AACD;AACF,GAPD;;AASA,sBACE,QAAC,GAAD;AAAK,IAAA,EAAE,EAAC,MAAR;AAAA,4BACE,QAAC,IAAD;AAAM,MAAA,EAAE,EAAE,CAAC,MAAD,EAAS,MAAT,CAAV;AAA4B,MAAA,cAAc,EAAC,eAA3C;AAA2D,MAAA,UAAU,EAAC,QAAtE;AAAA,8BACE,QAAC,IAAD;AAAM,QAAA,IAAI,EAAC,GAAX;AAAe,QAAA,UAAU,EAAC,QAA1B;AAAA,gCACE,QAAC,IAAD;AAAM,UAAA,IAAI,MAAV;AAAW,UAAA,QAAQ,EAAEQ,IAAI,IAAIC,IAAR,GAAe,MAAf,GAAwB,MAA7C;AAAqD,UAAA,EAAE,EAAE,CAAC,KAAD,EAAQ,KAAR,CAAzD;AAAA,oBACGL,CAAC,CAAC,WAAD;AADJ;AAAA;AAAA;AAAA;AAAA,gBADF,eAIE,QAAC,GAAD;AAAK,UAAA,KAAK,EAAC,MAAX;AAAkB,UAAA,EAAE,EAAE,CAAC,KAAD,EAAQ,MAAR,CAAtB;AAAA,iCACE,QAAC,KAAD;AACE,YAAA,QAAQ,EAAE,CAACN,yBADb;AAEE,YAAA,IAAI,EAAC,OAFP;AAGE,YAAA,KAAK,EAAEC,gBAHT;AAIE,YAAA,QAAQ,EAAEwB;AAJZ;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAJF,eAYE,QAAC,gBAAD;AACE,UAAA,QAAQ,EAAE,CAACrB,qBAAD,IAA0BA,qBAAqB,IAAI,CAD/D;AAEE,UAAA,OAAO,EAAC,MAFV;AAGE,UAAA,KAAK,EAAC,IAHR;AAIE,UAAA,EAAE,EAAE,CAAC,KAAD,EAAQ,MAAR,CAJN;AAKE,UAAA,OAAO,EAAE,MAAM0B,gBAAgB,CAAC1B,qBAAqB,GAAG,CAAzB,CALjC;AAAA,iCAOE,QAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAPF;AAAA;AAAA;AAAA;AAAA,gBAZF,eAqBE,QAAC,gBAAD;AACE,UAAA,QAAQ,EAAEA,qBAAqB,IAAIJ,yBADrC;AAEE,UAAA,OAAO,EAAC,MAFV;AAGE,UAAA,KAAK,EAAC,IAHR;AAIE,UAAA,EAAE,EAAE,CAAC,KAAD,EAAQ,MAAR,CAJN;AAKE,UAAA,OAAO,EAAE,MAAM8B,gBAAgB,CAAC1B,qBAAqB,GAAG,CAAzB,CALjC;AAAA,iCAOE,QAAC,gBAAD;AAAA;AAAA;AAAA;AAAA;AAPF;AAAA;AAAA;AAAA;AAAA,gBArBF,eA8BE,QAAC,gBAAD;AACE,UAAA,QAAQ,EAAEA,qBAAqB,IAAIJ,yBADrC;AAEE,UAAA,OAAO,EAAC,MAFV;AAGE,UAAA,KAAK,EAAC,IAHR;AAIE,UAAA,OAAO,EAAE,MAAM8B,gBAAgB,CAAC9B,yBAAD,CAJjC;AAAA,iCAME,QAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AANF;AAAA;AAAA;AAAA;AAAA,gBA9BF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,EAwCG,CAACU,IAAI,IAAIC,IAAT,kBACC,QAAC,IAAD;AAAM,QAAA,IAAI,EAAC,GAAX;AAAe,QAAA,cAAc,EAAC,UAA9B;AAAA,kBACGa,OAAO,iBAAI,QAAC,IAAD;AAAA,oBAAOlB,CAAC,CAAC,cAAD,EAAiB;AAAE0B,YAAAA,IAAI,EAAER;AAAR,WAAjB;AAAR;AAAA;AAAA;AAAA;AAAA;AADd;AAAA;AAAA;AAAA;AAAA,cAzCJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,EA+CG,CAACjB,IAAI,IAAIC,IAAR,IAAgBC,IAAjB,kBACC,QAAC,IAAD;AAAM,MAAA,EAAE,EAAE,CAAC,MAAD,EAAS,MAAT,CAAV;AAA4B,MAAA,EAAE,EAAC,KAA/B;AAAA,gBACGe,OAAO,iBAAI,QAAC,IAAD;AAAA,kBAAOlB,CAAC,CAAC,cAAD,EAAiB;AAAE0B,UAAAA,IAAI,EAAER;AAAR,SAAjB;AAAR;AAAA;AAAA;AAAA;AAAA;AADd;AAAA;AAAA;AAAA;AAAA,YAhDJ,EAoDGxB,yBAAyB,GACxBoB,YADwB,gBAGxB,QAAC,IAAD;AAAM,MAAA,aAAa,EAAC,QAApB;AAA6B,MAAA,cAAc,EAAC,QAA5C;AAAqD,MAAA,UAAU,EAAC,QAAhE;AAAyE,MAAA,CAAC,EAAC,MAA3E;AAAkF,MAAA,MAAM,EAAC,OAAzF;AAAA,8BACE,QAAC,IAAD;AAAM,QAAA,EAAE,EAAC,KAAT;AAAA,kBAAgBd,CAAC,CAAC,gBAAD;AAAjB;AAAA;AAAA;AAAA;AAAA,cADF,eAEE,QAAC,oBAAD;AAAsB,QAAA,MAAM,EAAC,MAA7B;AAAoC,QAAA,KAAK,EAAC;AAA1C;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA,YAvDJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AA+DD,CA5HD;;GAAMP,c;UAMUP,c,EAE2BD,mB,EAElBE,iB;;;MAVnBM,c;AA8HN,eAAeA,cAAf","sourcesContent":["import React, { useState } from 'react'\nimport { format } from 'date-fns'\nimport styled from 'styled-components'\nimport {\n  Text,\n  Flex,\n  Box,\n  Input,\n  ArrowBackIcon,\n  ArrowForwardIcon,\n  ArrowLastIcon,\n  IconButton,\n  BunnyPlaceholderIcon,\n  Spinner,\n  useMatchBreakpoints,\n} from '@pancakeswap/uikit'\nimport { useTranslation } from 'contexts/Localization'\nimport useAuctionHistory from '../hooks/useAuctionHistory'\nimport AuctionLeaderboardTable from './AuctionLeaderboard/AuctionLeaderboardTable'\n\ninterface AuctionHistoryProps {\n  mostRecentClosedAuctionId: number\n}\n\nconst StyledIconButton = styled(IconButton)`\n  width: 32px;\n\n  :disabled {\n    background: none;\n\n    svg {\n      fill: ${({ theme }) => theme.colors.textDisabled};\n\n      path {\n        fill: ${({ theme }) => theme.colors.textDisabled};\n      }\n    }\n  }\n`\n\nconst AuctionHistory: React.FC<AuctionHistoryProps> = ({ mostRecentClosedAuctionId }) => {\n  const [historyAuctionId, setHistoryAuctionId] = useState(\n    mostRecentClosedAuctionId ? mostRecentClosedAuctionId.toString() : '0',\n  )\n  const historyAuctionIdAsInt = parseInt(historyAuctionId, 10)\n\n  const { t } = useTranslation()\n\n  const { isXs, isSm, isMd, isLg, isXl } = useMatchBreakpoints()\n\n  const auctionHistory = useAuctionHistory(historyAuctionIdAsInt)\n  const selectedAuction = Object.values(auctionHistory).find(\n    (auctionData) => auctionData.auction.id === historyAuctionIdAsInt,\n  )\n\n  let auctionTable = selectedAuction ? (\n    <AuctionLeaderboardTable bidders={selectedAuction.bidders} noBidsText=\"No bids were placed in this auction\" />\n  ) : (\n    <Flex justifyContent=\"center\" alignItems=\"center\" p=\"24px\" height=\"250px\">\n      <Spinner />\n    </Flex>\n  )\n\n  if (Number.isNaN(historyAuctionIdAsInt)) {\n    auctionTable = (\n      <Flex flexDirection=\"column\" justifyContent=\"center\" alignItems=\"center\" p=\"24px\" height=\"250px\">\n        <Text mb=\"8px\">{t('Please specify auction ID')}</Text>\n        <BunnyPlaceholderIcon height=\"64px\" width=\"64px\" />\n      </Flex>\n    )\n  }\n\n  const endDate = selectedAuction ? format(selectedAuction.auction.endDate, 'MMM. dd yyyy, hh:mm aa') : null\n\n  const handleHistoryAuctionChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const {\n      target: { value },\n    } = event\n    if (value) {\n      let newAuctionId = value\n      if (parseInt(value, 10) <= 0) {\n        newAuctionId = ''\n      }\n      if (parseInt(value, 10) >= mostRecentClosedAuctionId) {\n        newAuctionId = mostRecentClosedAuctionId.toString()\n      }\n      setHistoryAuctionId(newAuctionId)\n    } else {\n      setHistoryAuctionId('')\n    }\n  }\n\n  const handleArrowPress = (auctionId: number) => {\n    if (auctionId) {\n      setHistoryAuctionId(auctionId.toString())\n    } else {\n      // auctionId is NaN when the input is empty, the only button press that will trigger this func is 'forward one'\n      setHistoryAuctionId('1')\n    }\n  }\n\n  return (\n    <Box py=\"24px\">\n      <Flex px={['12px', '24px']} justifyContent=\"space-between\" alignItems=\"center\">\n        <Flex flex=\"3\" alignItems=\"center\">\n          <Text bold fontSize={isLg || isXl ? '20px' : '16px'} mr={['4px', '8px']}>\n            {t('Auction #')}\n          </Text>\n          <Box width=\"62px\" mr={['4px', '16px']}>\n            <Input\n              disabled={!mostRecentClosedAuctionId}\n              type=\"input\"\n              value={historyAuctionId}\n              onChange={handleHistoryAuctionChange}\n            />\n          </Box>\n          <StyledIconButton\n            disabled={!historyAuctionIdAsInt || historyAuctionIdAsInt <= 1}\n            variant=\"text\"\n            scale=\"sm\"\n            mr={['8px', '12px']}\n            onClick={() => handleArrowPress(historyAuctionIdAsInt - 1)}\n          >\n            <ArrowBackIcon />\n          </StyledIconButton>\n          <StyledIconButton\n            disabled={historyAuctionIdAsInt >= mostRecentClosedAuctionId}\n            variant=\"text\"\n            scale=\"sm\"\n            mr={['8px', '12px']}\n            onClick={() => handleArrowPress(historyAuctionIdAsInt + 1)}\n          >\n            <ArrowForwardIcon />\n          </StyledIconButton>\n          <StyledIconButton\n            disabled={historyAuctionIdAsInt >= mostRecentClosedAuctionId}\n            variant=\"text\"\n            scale=\"sm\"\n            onClick={() => handleArrowPress(mostRecentClosedAuctionId)}\n          >\n            <ArrowLastIcon />\n          </StyledIconButton>\n        </Flex>\n        {(isLg || isXl) && (\n          <Flex flex=\"2\" justifyContent=\"flex-end\">\n            {endDate && <Text>{t('Ended %date%', { date: endDate })}</Text>}\n          </Flex>\n        )}\n      </Flex>\n      {(isXs || isSm || isMd) && (\n        <Flex px={['12px', '24px']} pt=\"8px\">\n          {endDate && <Text>{t('Ended %date%', { date: endDate })}</Text>}\n        </Flex>\n      )}\n      {mostRecentClosedAuctionId ? (\n        auctionTable\n      ) : (\n        <Flex flexDirection=\"column\" justifyContent=\"center\" alignItems=\"center\" p=\"24px\" height=\"250px\">\n          <Text mb=\"8px\">{t('No history yet')}</Text>\n          <BunnyPlaceholderIcon height=\"64px\" width=\"64px\" />\n        </Flex>\n      )}\n    </Box>\n  )\n}\n\nexport default AuctionHistory\n"]},"metadata":{},"sourceType":"module"}