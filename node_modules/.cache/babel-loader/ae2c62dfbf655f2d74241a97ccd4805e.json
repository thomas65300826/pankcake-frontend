{"ast":null,"code":"var _jsxFileName = \"/Users/thomas/Documents/PycharmProjects/pancake-frontend/src/views/RemoveLiquidity/index.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useCallback, useMemo, useState } from 'react';\nimport styled from 'styled-components';\nimport { splitSignature } from '@ethersproject/bytes';\nimport { currencyEquals, ETHER, Percent, WETH } from '@pancakeswap/sdk';\nimport { Button, Text, AddIcon, ArrowDownIcon, CardBody, Slider, Box, Flex, useModal } from '@pancakeswap/uikit';\nimport { BigNumber } from '@ethersproject/bignumber';\nimport { useTranslation } from 'contexts/Localization';\nimport { AutoColumn, ColumnCenter } from '../../components/Layout/Column';\nimport TransactionConfirmationModal, { ConfirmationModalContent } from '../../components/TransactionConfirmationModal';\nimport CurrencyInputPanel from '../../components/CurrencyInputPanel';\nimport { MinimalPositionCard } from '../../components/PositionCard';\nimport { AppHeader, AppBody } from '../../components/App';\nimport { RowBetween, RowFixed } from '../../components/Layout/Row';\nimport ConnectWalletButton from '../../components/ConnectWalletButton';\nimport { LightGreyCard } from '../../components/Card';\nimport { CurrencyLogo, DoubleCurrencyLogo } from '../../components/Logo';\nimport { ROUTER_ADDRESS } from '../../config/constants';\nimport useActiveWeb3React from '../../hooks/useActiveWeb3React';\nimport { useCurrency } from '../../hooks/Tokens';\nimport { usePairContract } from '../../hooks/useContract';\nimport useTransactionDeadline from '../../hooks/useTransactionDeadline';\nimport { useTransactionAdder } from '../../state/transactions/hooks';\nimport StyledInternalLink from '../../components/Links';\nimport { calculateGasMargin, calculateSlippageAmount, getRouterContract } from '../../utils';\nimport { currencyId } from '../../utils/currencyId';\nimport useDebouncedChangeHandler from '../../hooks/useDebouncedChangeHandler';\nimport { wrappedCurrency } from '../../utils/wrappedCurrency';\nimport { useApproveCallback, ApprovalState } from '../../hooks/useApproveCallback';\nimport Dots from '../../components/Loader/Dots';\nimport { useBurnActionHandlers, useDerivedBurnInfo, useBurnState } from '../../state/burn/hooks';\nimport { Field } from '../../state/burn/actions';\nimport { useUserSlippageTolerance } from '../../state/user/hooks';\nimport Page from '../Page';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst BorderCard = styled.div`\n  border: solid 1px ${({\n  theme\n}) => theme.colors.cardBorder};\n  border-radius: 16px;\n  padding: 16px;\n`;\n_c = BorderCard;\nexport default function RemoveLiquidity({\n  history,\n  match: {\n    params: {\n      currencyIdA,\n      currencyIdB\n    }\n  }\n}) {\n  _s();\n\n  var _useCurrency, _useCurrency2, _parsedAmounts$Field$, _parsedAmounts$Field$2, _parsedAmounts$Field$3, _parsedAmounts$Field$4, _parsedAmounts$Field$5, _parsedAmounts$Field$6, _parsedAmounts$Field$7, _pair$liquidityToken, _parsedAmounts$Field$13, _parsedAmounts$Field$14, _currencyA$symbol2, _parsedAmounts$Field$15, _parsedAmounts$Field$16, _currencyB$symbol2, _currencyA$symbol3, _currencyB$symbol3;\n\n  const [currencyA, currencyB] = [(_useCurrency = useCurrency(currencyIdA)) !== null && _useCurrency !== void 0 ? _useCurrency : undefined, (_useCurrency2 = useCurrency(currencyIdB)) !== null && _useCurrency2 !== void 0 ? _useCurrency2 : undefined];\n  const {\n    account,\n    chainId,\n    library\n  } = useActiveWeb3React();\n  const [tokenA, tokenB] = useMemo(() => [wrappedCurrency(currencyA, chainId), wrappedCurrency(currencyB, chainId)], [currencyA, currencyB, chainId]);\n  const {\n    t\n  } = useTranslation(); // burn state\n\n  const {\n    independentField,\n    typedValue\n  } = useBurnState();\n  const {\n    pair,\n    parsedAmounts,\n    error\n  } = useDerivedBurnInfo(currencyA !== null && currencyA !== void 0 ? currencyA : undefined, currencyB !== null && currencyB !== void 0 ? currencyB : undefined);\n  const {\n    onUserInput: _onUserInput\n  } = useBurnActionHandlers();\n  const isValid = !error; // modal and loading\n\n  const [showDetailed, setShowDetailed] = useState(false);\n  const [attemptingTxn, setAttemptingTxn] = useState(false); // clicked confirm\n  // txn values\n\n  const [txHash, setTxHash] = useState('');\n  const deadline = useTransactionDeadline();\n  const [allowedSlippage] = useUserSlippageTolerance();\n  const formattedAmounts = {\n    [Field.LIQUIDITY_PERCENT]: parsedAmounts[Field.LIQUIDITY_PERCENT].equalTo('0') ? '0' : parsedAmounts[Field.LIQUIDITY_PERCENT].lessThan(new Percent('1', '100')) ? '<1' : parsedAmounts[Field.LIQUIDITY_PERCENT].toFixed(0),\n    [Field.LIQUIDITY]: independentField === Field.LIQUIDITY ? typedValue : (_parsedAmounts$Field$ = (_parsedAmounts$Field$2 = parsedAmounts[Field.LIQUIDITY]) === null || _parsedAmounts$Field$2 === void 0 ? void 0 : _parsedAmounts$Field$2.toSignificant(6)) !== null && _parsedAmounts$Field$ !== void 0 ? _parsedAmounts$Field$ : '',\n    [Field.CURRENCY_A]: independentField === Field.CURRENCY_A ? typedValue : (_parsedAmounts$Field$3 = (_parsedAmounts$Field$4 = parsedAmounts[Field.CURRENCY_A]) === null || _parsedAmounts$Field$4 === void 0 ? void 0 : _parsedAmounts$Field$4.toSignificant(6)) !== null && _parsedAmounts$Field$3 !== void 0 ? _parsedAmounts$Field$3 : '',\n    [Field.CURRENCY_B]: independentField === Field.CURRENCY_B ? typedValue : (_parsedAmounts$Field$5 = (_parsedAmounts$Field$6 = parsedAmounts[Field.CURRENCY_B]) === null || _parsedAmounts$Field$6 === void 0 ? void 0 : _parsedAmounts$Field$6.toSignificant(6)) !== null && _parsedAmounts$Field$5 !== void 0 ? _parsedAmounts$Field$5 : ''\n  };\n  const atMaxAmount = (_parsedAmounts$Field$7 = parsedAmounts[Field.LIQUIDITY_PERCENT]) === null || _parsedAmounts$Field$7 === void 0 ? void 0 : _parsedAmounts$Field$7.equalTo(new Percent('1')); // pair contract\n\n  const pairContract = usePairContract(pair === null || pair === void 0 ? void 0 : (_pair$liquidityToken = pair.liquidityToken) === null || _pair$liquidityToken === void 0 ? void 0 : _pair$liquidityToken.address); // allowance handling\n\n  const [signatureData, setSignatureData] = useState(null);\n  const [approval, approveCallback] = useApproveCallback(parsedAmounts[Field.LIQUIDITY], ROUTER_ADDRESS);\n\n  async function onAttemptToApprove() {\n    if (!pairContract || !pair || !library || !deadline) throw new Error('missing dependencies');\n    const liquidityAmount = parsedAmounts[Field.LIQUIDITY];\n    if (!liquidityAmount) throw new Error('missing liquidity amount'); // try to gather a signature for permission\n\n    const nonce = await pairContract.nonces(account);\n    const EIP712Domain = [{\n      name: 'name',\n      type: 'string'\n    }, {\n      name: 'version',\n      type: 'string'\n    }, {\n      name: 'chainId',\n      type: 'uint256'\n    }, {\n      name: 'verifyingContract',\n      type: 'address'\n    }];\n    const domain = {\n      name: 'Pancake LPs',\n      version: '1',\n      chainId,\n      verifyingContract: pair.liquidityToken.address\n    };\n    const Permit = [{\n      name: 'owner',\n      type: 'address'\n    }, {\n      name: 'spender',\n      type: 'address'\n    }, {\n      name: 'value',\n      type: 'uint256'\n    }, {\n      name: 'nonce',\n      type: 'uint256'\n    }, {\n      name: 'deadline',\n      type: 'uint256'\n    }];\n    const message = {\n      owner: account,\n      spender: ROUTER_ADDRESS,\n      value: liquidityAmount.raw.toString(),\n      nonce: nonce.toHexString(),\n      deadline: deadline.toNumber()\n    };\n    const data = JSON.stringify({\n      types: {\n        EIP712Domain,\n        Permit\n      },\n      domain,\n      primaryType: 'Permit',\n      message\n    });\n    library.send('eth_signTypedData_v4', [account, data]).then(splitSignature).then(signature => {\n      setSignatureData({\n        v: signature.v,\n        r: signature.r,\n        s: signature.s,\n        deadline: deadline.toNumber()\n      });\n    }).catch(err => {\n      // for all errors other than 4001 (EIP-1193 user rejected request), fall back to manual approve\n      if ((err === null || err === void 0 ? void 0 : err.code) !== 4001) {\n        approveCallback();\n      }\n    });\n  } // wrapped onUserInput to clear signatures\n\n\n  const onUserInput = useCallback((field, value) => {\n    setSignatureData(null);\n    return _onUserInput(field, value);\n  }, [_onUserInput]);\n  const onLiquidityInput = useCallback(value => onUserInput(Field.LIQUIDITY, value), [onUserInput]);\n  const onCurrencyAInput = useCallback(value => onUserInput(Field.CURRENCY_A, value), [onUserInput]);\n  const onCurrencyBInput = useCallback(value => onUserInput(Field.CURRENCY_B, value), [onUserInput]); // tx sending\n\n  const addTransaction = useTransactionAdder();\n\n  async function onRemove() {\n    if (!chainId || !library || !account || !deadline) throw new Error('missing dependencies');\n    const {\n      [Field.CURRENCY_A]: currencyAmountA,\n      [Field.CURRENCY_B]: currencyAmountB\n    } = parsedAmounts;\n\n    if (!currencyAmountA || !currencyAmountB) {\n      throw new Error('missing currency amounts');\n    }\n\n    const router = getRouterContract(chainId, library, account);\n    const amountsMin = {\n      [Field.CURRENCY_A]: calculateSlippageAmount(currencyAmountA, allowedSlippage)[0],\n      [Field.CURRENCY_B]: calculateSlippageAmount(currencyAmountB, allowedSlippage)[0]\n    };\n    if (!currencyA || !currencyB) throw new Error('missing tokens');\n    const liquidityAmount = parsedAmounts[Field.LIQUIDITY];\n    if (!liquidityAmount) throw new Error('missing liquidity amount');\n    const currencyBIsETH = currencyB === ETHER;\n    const oneCurrencyIsETH = currencyA === ETHER || currencyBIsETH;\n    if (!tokenA || !tokenB) throw new Error('could not wrap');\n    let methodNames;\n    let args; // we have approval, use normal remove liquidity\n\n    if (approval === ApprovalState.APPROVED) {\n      // removeLiquidityETH\n      if (oneCurrencyIsETH) {\n        methodNames = ['removeLiquidityETH', 'removeLiquidityETHSupportingFeeOnTransferTokens'];\n        args = [currencyBIsETH ? tokenA.address : tokenB.address, liquidityAmount.raw.toString(), amountsMin[currencyBIsETH ? Field.CURRENCY_A : Field.CURRENCY_B].toString(), amountsMin[currencyBIsETH ? Field.CURRENCY_B : Field.CURRENCY_A].toString(), account, deadline.toHexString()];\n      } // removeLiquidity\n      else {\n          methodNames = ['removeLiquidity'];\n          args = [tokenA.address, tokenB.address, liquidityAmount.raw.toString(), amountsMin[Field.CURRENCY_A].toString(), amountsMin[Field.CURRENCY_B].toString(), account, deadline.toHexString()];\n        }\n    } // we have a signataure, use permit versions of remove liquidity\n    else if (signatureData !== null) {\n        // removeLiquidityETHWithPermit\n        if (oneCurrencyIsETH) {\n          methodNames = ['removeLiquidityETHWithPermit', 'removeLiquidityETHWithPermitSupportingFeeOnTransferTokens'];\n          args = [currencyBIsETH ? tokenA.address : tokenB.address, liquidityAmount.raw.toString(), amountsMin[currencyBIsETH ? Field.CURRENCY_A : Field.CURRENCY_B].toString(), amountsMin[currencyBIsETH ? Field.CURRENCY_B : Field.CURRENCY_A].toString(), account, signatureData.deadline, false, signatureData.v, signatureData.r, signatureData.s];\n        } // removeLiquidityETHWithPermit\n        else {\n            methodNames = ['removeLiquidityWithPermit'];\n            args = [tokenA.address, tokenB.address, liquidityAmount.raw.toString(), amountsMin[Field.CURRENCY_A].toString(), amountsMin[Field.CURRENCY_B].toString(), account, signatureData.deadline, false, signatureData.v, signatureData.r, signatureData.s];\n          }\n      } else {\n        throw new Error('Attempting to confirm without approval or a signature. Please contact support.');\n      }\n\n    const safeGasEstimates = await Promise.all(methodNames.map(methodName => router.estimateGas[methodName](...args).then(calculateGasMargin).catch(err => {\n      console.error(`estimateGas failed`, methodName, args, err);\n      return undefined;\n    })));\n    const indexOfSuccessfulEstimation = safeGasEstimates.findIndex(safeGasEstimate => BigNumber.isBigNumber(safeGasEstimate)); // all estimations failed...\n\n    if (indexOfSuccessfulEstimation === -1) {\n      console.error('This transaction would fail. Please contact support.');\n    } else {\n      const methodName = methodNames[indexOfSuccessfulEstimation];\n      const safeGasEstimate = safeGasEstimates[indexOfSuccessfulEstimation];\n      setAttemptingTxn(true);\n      await router[methodName](...args, {\n        gasLimit: safeGasEstimate\n      }).then(response => {\n        var _parsedAmounts$Field$8, _parsedAmounts$Field$9;\n\n        setAttemptingTxn(false);\n        addTransaction(response, {\n          summary: `Remove ${(_parsedAmounts$Field$8 = parsedAmounts[Field.CURRENCY_A]) === null || _parsedAmounts$Field$8 === void 0 ? void 0 : _parsedAmounts$Field$8.toSignificant(3)} ${currencyA === null || currencyA === void 0 ? void 0 : currencyA.symbol} and ${(_parsedAmounts$Field$9 = parsedAmounts[Field.CURRENCY_B]) === null || _parsedAmounts$Field$9 === void 0 ? void 0 : _parsedAmounts$Field$9.toSignificant(3)} ${currencyB === null || currencyB === void 0 ? void 0 : currencyB.symbol}`\n        });\n        setTxHash(response.hash);\n      }).catch(err => {\n        setAttemptingTxn(false); // we only care if the error is something _other_ than the user rejected the tx\n\n        console.error(err);\n      });\n    }\n  }\n\n  function modalHeader() {\n    var _parsedAmounts$Field$10, _parsedAmounts$Field$11;\n\n    return /*#__PURE__*/_jsxDEV(AutoColumn, {\n      gap: \"md\",\n      children: [/*#__PURE__*/_jsxDEV(RowBetween, {\n        align: \"flex-end\",\n        children: [/*#__PURE__*/_jsxDEV(Text, {\n          fontSize: \"24px\",\n          children: (_parsedAmounts$Field$10 = parsedAmounts[Field.CURRENCY_A]) === null || _parsedAmounts$Field$10 === void 0 ? void 0 : _parsedAmounts$Field$10.toSignificant(6)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(RowFixed, {\n          gap: \"4px\",\n          children: [/*#__PURE__*/_jsxDEV(CurrencyLogo, {\n            currency: currencyA,\n            size: \"24px\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Text, {\n            fontSize: \"24px\",\n            ml: \"10px\",\n            children: currencyA === null || currencyA === void 0 ? void 0 : currencyA.symbol\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(RowFixed, {\n        children: /*#__PURE__*/_jsxDEV(AddIcon, {\n          width: \"16px\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(RowBetween, {\n        align: \"flex-end\",\n        children: [/*#__PURE__*/_jsxDEV(Text, {\n          fontSize: \"24px\",\n          children: (_parsedAmounts$Field$11 = parsedAmounts[Field.CURRENCY_B]) === null || _parsedAmounts$Field$11 === void 0 ? void 0 : _parsedAmounts$Field$11.toSignificant(6)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(RowFixed, {\n          gap: \"4px\",\n          children: [/*#__PURE__*/_jsxDEV(CurrencyLogo, {\n            currency: currencyB,\n            size: \"24px\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Text, {\n            fontSize: \"24px\",\n            ml: \"10px\",\n            children: currencyB === null || currencyB === void 0 ? void 0 : currencyB.symbol\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Text, {\n        small: true,\n        textAlign: \"left\",\n        pt: \"12px\",\n        children: t('Output is estimated. If the price changes by more than %slippage%% your transaction will revert.', {\n          slippage: allowedSlippage / 100\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 7\n    }, this);\n  }\n\n  function modalBottom() {\n    var _currencyA$symbol, _currencyB$symbol, _parsedAmounts$Field$12;\n\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(RowBetween, {\n        children: [t('%assetA%/%assetB% Burned', {\n          assetA: (_currencyA$symbol = currencyA === null || currencyA === void 0 ? void 0 : currencyA.symbol) !== null && _currencyA$symbol !== void 0 ? _currencyA$symbol : '',\n          assetB: (_currencyB$symbol = currencyB === null || currencyB === void 0 ? void 0 : currencyB.symbol) !== null && _currencyB$symbol !== void 0 ? _currencyB$symbol : ''\n        }), /*#__PURE__*/_jsxDEV(RowFixed, {\n          children: [/*#__PURE__*/_jsxDEV(DoubleCurrencyLogo, {\n            currency0: currencyA,\n            currency1: currencyB,\n            margin: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Text, {\n            children: (_parsedAmounts$Field$12 = parsedAmounts[Field.LIQUIDITY]) === null || _parsedAmounts$Field$12 === void 0 ? void 0 : _parsedAmounts$Field$12.toSignificant(6)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 9\n      }, this), pair && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(RowBetween, {\n          children: [/*#__PURE__*/_jsxDEV(Text, {\n            children: t('Price')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Text, {\n            children: [\"1 \", currencyA === null || currencyA === void 0 ? void 0 : currencyA.symbol, \" = \", tokenA ? pair.priceOf(tokenA).toSignificant(6) : '-', \" \", currencyB === null || currencyB === void 0 ? void 0 : currencyB.symbol]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(RowBetween, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Text, {\n            children: [\"1 \", currencyB === null || currencyB === void 0 ? void 0 : currencyB.symbol, \" = \", tokenB ? pair.priceOf(tokenB).toSignificant(6) : '-', \" \", currencyA === null || currencyA === void 0 ? void 0 : currencyA.symbol]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), /*#__PURE__*/_jsxDEV(Button, {\n        disabled: !(approval === ApprovalState.APPROVED || signatureData !== null),\n        onClick: onRemove,\n        children: t('Confirm')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n\n  const pendingText = t('Removing %amountA% %symbolA% and %amountB% %symbolB%', {\n    amountA: (_parsedAmounts$Field$13 = (_parsedAmounts$Field$14 = parsedAmounts[Field.CURRENCY_A]) === null || _parsedAmounts$Field$14 === void 0 ? void 0 : _parsedAmounts$Field$14.toSignificant(6)) !== null && _parsedAmounts$Field$13 !== void 0 ? _parsedAmounts$Field$13 : '',\n    symbolA: (_currencyA$symbol2 = currencyA === null || currencyA === void 0 ? void 0 : currencyA.symbol) !== null && _currencyA$symbol2 !== void 0 ? _currencyA$symbol2 : '',\n    amountB: (_parsedAmounts$Field$15 = (_parsedAmounts$Field$16 = parsedAmounts[Field.CURRENCY_B]) === null || _parsedAmounts$Field$16 === void 0 ? void 0 : _parsedAmounts$Field$16.toSignificant(6)) !== null && _parsedAmounts$Field$15 !== void 0 ? _parsedAmounts$Field$15 : '',\n    symbolB: (_currencyB$symbol2 = currencyB === null || currencyB === void 0 ? void 0 : currencyB.symbol) !== null && _currencyB$symbol2 !== void 0 ? _currencyB$symbol2 : ''\n  });\n  const liquidityPercentChangeCallback = useCallback(value => {\n    onUserInput(Field.LIQUIDITY_PERCENT, value.toString());\n  }, [onUserInput]);\n  const oneCurrencyIsETH = currencyA === ETHER || currencyB === ETHER;\n  const oneCurrencyIsWETH = Boolean(chainId && (currencyA && currencyEquals(WETH[chainId], currencyA) || currencyB && currencyEquals(WETH[chainId], currencyB)));\n  const handleSelectCurrencyA = useCallback(currency => {\n    if (currencyIdB && currencyId(currency) === currencyIdB) {\n      history.push(`/remove/${currencyId(currency)}/${currencyIdA}`);\n    } else {\n      history.push(`/remove/${currencyId(currency)}/${currencyIdB}`);\n    }\n  }, [currencyIdA, currencyIdB, history]);\n  const handleSelectCurrencyB = useCallback(currency => {\n    if (currencyIdA && currencyId(currency) === currencyIdA) {\n      history.push(`/remove/${currencyIdB}/${currencyId(currency)}`);\n    } else {\n      history.push(`/remove/${currencyIdA}/${currencyId(currency)}`);\n    }\n  }, [currencyIdA, currencyIdB, history]);\n  const handleDismissConfirmation = useCallback(() => {\n    setSignatureData(null); // important that we clear signature data to avoid bad sigs\n    // if there was a tx hash, we want to clear the input\n\n    if (txHash) {\n      onUserInput(Field.LIQUIDITY_PERCENT, '0');\n    }\n\n    setTxHash('');\n  }, [onUserInput, txHash]);\n  const [innerLiquidityPercentage, setInnerLiquidityPercentage] = useDebouncedChangeHandler(Number.parseInt(parsedAmounts[Field.LIQUIDITY_PERCENT].toFixed(0)), liquidityPercentChangeCallback);\n  const [onPresentRemoveLiquidity] = useModal( /*#__PURE__*/_jsxDEV(TransactionConfirmationModal, {\n    title: t('You will receive'),\n    customOnDismiss: handleDismissConfirmation,\n    attemptingTxn: attemptingTxn,\n    hash: txHash || '',\n    content: () => /*#__PURE__*/_jsxDEV(ConfirmationModalContent, {\n      topContent: modalHeader,\n      bottomContent: modalBottom\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 443,\n      columnNumber: 22\n    }, this),\n    pendingText: pendingText\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 438,\n    columnNumber: 5\n  }, this), true, true, 'removeLiquidityModal');\n  return /*#__PURE__*/_jsxDEV(Page, {\n    children: [/*#__PURE__*/_jsxDEV(AppBody, {\n      children: [/*#__PURE__*/_jsxDEV(AppHeader, {\n        backTo: \"/pool\",\n        title: t('Remove %assetA%-%assetB% liquidity', {\n          assetA: (_currencyA$symbol3 = currencyA === null || currencyA === void 0 ? void 0 : currencyA.symbol) !== null && _currencyA$symbol3 !== void 0 ? _currencyA$symbol3 : '',\n          assetB: (_currencyB$symbol3 = currencyB === null || currencyB === void 0 ? void 0 : currencyB.symbol) !== null && _currencyB$symbol3 !== void 0 ? _currencyB$symbol3 : ''\n        }),\n        subtitle: `To receive ${currencyA === null || currencyA === void 0 ? void 0 : currencyA.symbol} and ${currencyB === null || currencyB === void 0 ? void 0 : currencyB.symbol}`,\n        noConfig: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 454,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CardBody, {\n        children: [/*#__PURE__*/_jsxDEV(AutoColumn, {\n          gap: \"20px\",\n          children: [/*#__PURE__*/_jsxDEV(RowBetween, {\n            children: [/*#__PURE__*/_jsxDEV(Text, {\n              children: t('Amount')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 467,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"text\",\n              scale: \"sm\",\n              onClick: () => setShowDetailed(!showDetailed),\n              children: showDetailed ? t('Simple') : t('Detailed')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 468,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 466,\n            columnNumber: 13\n          }, this), !showDetailed && /*#__PURE__*/_jsxDEV(BorderCard, {\n            children: [/*#__PURE__*/_jsxDEV(Text, {\n              fontSize: \"40px\",\n              bold: true,\n              mb: \"16px\",\n              style: {\n                lineHeight: 1\n              },\n              children: [formattedAmounts[Field.LIQUIDITY_PERCENT], \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 474,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Slider, {\n              name: \"lp-amount\",\n              min: 0,\n              max: 100,\n              value: innerLiquidityPercentage,\n              onValueChanged: value => setInnerLiquidityPercentage(Math.ceil(value)),\n              mb: \"16px\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 477,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Flex, {\n              flexWrap: \"wrap\",\n              justifyContent: \"space-evenly\",\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                variant: \"tertiary\",\n                scale: \"sm\",\n                onClick: () => onUserInput(Field.LIQUIDITY_PERCENT, '25'),\n                children: \"25%\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 486,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"tertiary\",\n                scale: \"sm\",\n                onClick: () => onUserInput(Field.LIQUIDITY_PERCENT, '50'),\n                children: \"50%\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 489,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"tertiary\",\n                scale: \"sm\",\n                onClick: () => onUserInput(Field.LIQUIDITY_PERCENT, '75'),\n                children: \"75%\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 492,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"tertiary\",\n                scale: \"sm\",\n                onClick: () => onUserInput(Field.LIQUIDITY_PERCENT, '100'),\n                children: \"Max\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 495,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 485,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 473,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 465,\n          columnNumber: 11\n        }, this), !showDetailed && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(ColumnCenter, {\n            children: /*#__PURE__*/_jsxDEV(ArrowDownIcon, {\n              color: \"textSubtle\",\n              width: \"24px\",\n              my: \"16px\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 505,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 504,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(AutoColumn, {\n            gap: \"10px\",\n            children: [/*#__PURE__*/_jsxDEV(Text, {\n              bold: true,\n              color: \"secondary\",\n              fontSize: \"12px\",\n              textTransform: \"uppercase\",\n              children: t('You will receive')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 508,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(LightGreyCard, {\n              children: [/*#__PURE__*/_jsxDEV(Flex, {\n                justifyContent: \"space-between\",\n                mb: \"8px\",\n                children: [/*#__PURE__*/_jsxDEV(Flex, {\n                  children: [/*#__PURE__*/_jsxDEV(CurrencyLogo, {\n                    currency: currencyA\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 514,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Text, {\n                    small: true,\n                    color: \"textSubtle\",\n                    id: \"remove-liquidity-tokena-symbol\",\n                    ml: \"4px\",\n                    children: currencyA === null || currencyA === void 0 ? void 0 : currencyA.symbol\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 515,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 513,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Text, {\n                  small: true,\n                  children: formattedAmounts[Field.CURRENCY_A] || '-'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 519,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 512,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Flex, {\n                justifyContent: \"space-between\",\n                children: [/*#__PURE__*/_jsxDEV(Flex, {\n                  children: [/*#__PURE__*/_jsxDEV(CurrencyLogo, {\n                    currency: currencyB\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 523,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Text, {\n                    small: true,\n                    color: \"textSubtle\",\n                    id: \"remove-liquidity-tokenb-symbol\",\n                    ml: \"4px\",\n                    children: currencyB === null || currencyB === void 0 ? void 0 : currencyB.symbol\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 524,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 522,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Text, {\n                  small: true,\n                  children: formattedAmounts[Field.CURRENCY_B] || '-'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 528,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 521,\n                columnNumber: 19\n              }, this), chainId && (oneCurrencyIsWETH || oneCurrencyIsETH) ? /*#__PURE__*/_jsxDEV(RowBetween, {\n                style: {\n                  justifyContent: 'flex-end',\n                  fontSize: '14px'\n                },\n                children: oneCurrencyIsETH ? /*#__PURE__*/_jsxDEV(StyledInternalLink, {\n                  to: `/remove/${currencyA === ETHER ? WETH[chainId].address : currencyIdA}/${currencyB === ETHER ? WETH[chainId].address : currencyIdB}`,\n                  children: t('Receive WBNB')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 533,\n                  columnNumber: 25\n                }, this) : oneCurrencyIsWETH ? /*#__PURE__*/_jsxDEV(StyledInternalLink, {\n                  to: `/remove/${currencyA && currencyEquals(currencyA, WETH[chainId]) ? 'BNB' : currencyIdA}/${currencyB && currencyEquals(currencyB, WETH[chainId]) ? 'BNB' : currencyIdB}`,\n                  children: t('Receive BNB')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 541,\n                  columnNumber: 25\n                }, this) : null\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 531,\n                columnNumber: 21\n              }, this) : null]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 511,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 507,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true), showDetailed && /*#__PURE__*/_jsxDEV(Box, {\n          my: \"16px\",\n          children: [/*#__PURE__*/_jsxDEV(CurrencyInputPanel, {\n            value: formattedAmounts[Field.LIQUIDITY],\n            onUserInput: onLiquidityInput,\n            onMax: () => {\n              onUserInput(Field.LIQUIDITY_PERCENT, '100');\n            },\n            showMaxButton: !atMaxAmount,\n            disableCurrencySelect: true,\n            currency: pair === null || pair === void 0 ? void 0 : pair.liquidityToken,\n            pair: pair,\n            id: \"liquidity-amount\",\n            onCurrencySelect: () => null\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 558,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ColumnCenter, {\n            children: /*#__PURE__*/_jsxDEV(ArrowDownIcon, {\n              width: \"24px\",\n              my: \"16px\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 572,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 571,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(CurrencyInputPanel, {\n            hideBalance: true,\n            value: formattedAmounts[Field.CURRENCY_A],\n            onUserInput: onCurrencyAInput,\n            onMax: () => onUserInput(Field.LIQUIDITY_PERCENT, '100'),\n            showMaxButton: !atMaxAmount,\n            currency: currencyA,\n            label: t('Output'),\n            onCurrencySelect: handleSelectCurrencyA,\n            id: \"remove-liquidity-tokena\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 574,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ColumnCenter, {\n            children: /*#__PURE__*/_jsxDEV(AddIcon, {\n              width: \"24px\",\n              my: \"16px\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 586,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 585,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(CurrencyInputPanel, {\n            hideBalance: true,\n            value: formattedAmounts[Field.CURRENCY_B],\n            onUserInput: onCurrencyBInput,\n            onMax: () => onUserInput(Field.LIQUIDITY_PERCENT, '100'),\n            showMaxButton: !atMaxAmount,\n            currency: currencyB,\n            label: t('Output'),\n            onCurrencySelect: handleSelectCurrencyB,\n            id: \"remove-liquidity-tokenb\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 588,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 557,\n          columnNumber: 13\n        }, this), pair && /*#__PURE__*/_jsxDEV(AutoColumn, {\n          gap: \"10px\",\n          style: {\n            marginTop: '16px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Text, {\n            bold: true,\n            color: \"secondary\",\n            fontSize: \"12px\",\n            textTransform: \"uppercase\",\n            children: t('Prices')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 603,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(LightGreyCard, {\n            children: [/*#__PURE__*/_jsxDEV(Flex, {\n              justifyContent: \"space-between\",\n              children: [/*#__PURE__*/_jsxDEV(Text, {\n                small: true,\n                color: \"textSubtle\",\n                children: [\"1 \", currencyA === null || currencyA === void 0 ? void 0 : currencyA.symbol, \" =\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 608,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Text, {\n                small: true,\n                children: [tokenA ? pair.priceOf(tokenA).toSignificant(6) : '-', \" \", currencyB === null || currencyB === void 0 ? void 0 : currencyB.symbol]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 611,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 607,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Flex, {\n              justifyContent: \"space-between\",\n              children: [/*#__PURE__*/_jsxDEV(Text, {\n                small: true,\n                color: \"textSubtle\",\n                children: [\"1 \", currencyB === null || currencyB === void 0 ? void 0 : currencyB.symbol, \" =\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 616,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Text, {\n                small: true,\n                children: [tokenB ? pair.priceOf(tokenB).toSignificant(6) : '-', \" \", currencyA === null || currencyA === void 0 ? void 0 : currencyA.symbol]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 619,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 615,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 606,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 602,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          position: \"relative\",\n          mt: \"16px\",\n          children: !account ? /*#__PURE__*/_jsxDEV(ConnectWalletButton, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 628,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(RowBetween, {\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              variant: approval === ApprovalState.APPROVED || signatureData !== null ? 'success' : 'primary',\n              onClick: onAttemptToApprove,\n              disabled: approval !== ApprovalState.NOT_APPROVED || signatureData !== null,\n              width: \"100%\",\n              mr: \"0.5rem\",\n              children: approval === ApprovalState.PENDING ? /*#__PURE__*/_jsxDEV(Dots, {\n                children: t('Enabling')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 639,\n                columnNumber: 21\n              }, this) : approval === ApprovalState.APPROVED || signatureData !== null ? t('Enabled') : t('Enable')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 631,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: !isValid && !!parsedAmounts[Field.CURRENCY_A] && !!parsedAmounts[Field.CURRENCY_B] ? 'danger' : 'primary',\n              onClick: () => {\n                onPresentRemoveLiquidity();\n              },\n              width: \"100%\",\n              disabled: !isValid || signatureData === null && approval !== ApprovalState.APPROVED,\n              children: error || t('Remove')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 646,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 630,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 626,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 464,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 453,\n      columnNumber: 7\n    }, this), pair ? /*#__PURE__*/_jsxDEV(AutoColumn, {\n      style: {\n        minWidth: '20rem',\n        width: '100%',\n        maxWidth: '400px',\n        marginTop: '1rem'\n      },\n      children: /*#__PURE__*/_jsxDEV(MinimalPositionCard, {\n        showUnwrapped: oneCurrencyIsWETH,\n        pair: pair\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 668,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 667,\n      columnNumber: 9\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 452,\n    columnNumber: 5\n  }, this);\n}\n\n_s(RemoveLiquidity, \"M0KhSO14cWnuoo3kBp9D0OJHZfU=\", false, function () {\n  return [useCurrency, useCurrency, useActiveWeb3React, useTranslation, useBurnState, useDerivedBurnInfo, useBurnActionHandlers, useTransactionDeadline, useUserSlippageTolerance, usePairContract, useApproveCallback, useTransactionAdder, useDebouncedChangeHandler, useModal];\n});\n\n_c2 = RemoveLiquidity;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"BorderCard\");\n$RefreshReg$(_c2, \"RemoveLiquidity\");","map":{"version":3,"sources":["/Users/thomas/Documents/PycharmProjects/pancake-frontend/src/views/RemoveLiquidity/index.tsx"],"names":["React","useCallback","useMemo","useState","styled","splitSignature","currencyEquals","ETHER","Percent","WETH","Button","Text","AddIcon","ArrowDownIcon","CardBody","Slider","Box","Flex","useModal","BigNumber","useTranslation","AutoColumn","ColumnCenter","TransactionConfirmationModal","ConfirmationModalContent","CurrencyInputPanel","MinimalPositionCard","AppHeader","AppBody","RowBetween","RowFixed","ConnectWalletButton","LightGreyCard","CurrencyLogo","DoubleCurrencyLogo","ROUTER_ADDRESS","useActiveWeb3React","useCurrency","usePairContract","useTransactionDeadline","useTransactionAdder","StyledInternalLink","calculateGasMargin","calculateSlippageAmount","getRouterContract","currencyId","useDebouncedChangeHandler","wrappedCurrency","useApproveCallback","ApprovalState","Dots","useBurnActionHandlers","useDerivedBurnInfo","useBurnState","Field","useUserSlippageTolerance","Page","BorderCard","div","theme","colors","cardBorder","RemoveLiquidity","history","match","params","currencyIdA","currencyIdB","currencyA","currencyB","undefined","account","chainId","library","tokenA","tokenB","t","independentField","typedValue","pair","parsedAmounts","error","onUserInput","_onUserInput","isValid","showDetailed","setShowDetailed","attemptingTxn","setAttemptingTxn","txHash","setTxHash","deadline","allowedSlippage","formattedAmounts","LIQUIDITY_PERCENT","equalTo","lessThan","toFixed","LIQUIDITY","toSignificant","CURRENCY_A","CURRENCY_B","atMaxAmount","pairContract","liquidityToken","address","signatureData","setSignatureData","approval","approveCallback","onAttemptToApprove","Error","liquidityAmount","nonce","nonces","EIP712Domain","name","type","domain","version","verifyingContract","Permit","message","owner","spender","value","raw","toString","toHexString","toNumber","data","JSON","stringify","types","primaryType","send","then","signature","v","r","s","catch","err","code","field","onLiquidityInput","onCurrencyAInput","onCurrencyBInput","addTransaction","onRemove","currencyAmountA","currencyAmountB","router","amountsMin","currencyBIsETH","oneCurrencyIsETH","methodNames","args","APPROVED","safeGasEstimates","Promise","all","map","methodName","estimateGas","console","indexOfSuccessfulEstimation","findIndex","safeGasEstimate","isBigNumber","gasLimit","response","summary","symbol","hash","modalHeader","slippage","modalBottom","assetA","assetB","priceOf","pendingText","amountA","symbolA","amountB","symbolB","liquidityPercentChangeCallback","oneCurrencyIsWETH","Boolean","handleSelectCurrencyA","currency","push","handleSelectCurrencyB","handleDismissConfirmation","innerLiquidityPercentage","setInnerLiquidityPercentage","Number","parseInt","onPresentRemoveLiquidity","lineHeight","Math","ceil","justifyContent","fontSize","marginTop","NOT_APPROVED","PENDING","minWidth","width","maxWidth"],"mappings":"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","sourcesContent":["import React, { useCallback, useMemo, useState } from 'react'\nimport styled from 'styled-components'\nimport { splitSignature } from '@ethersproject/bytes'\nimport { Contract } from '@ethersproject/contracts'\nimport { TransactionResponse } from '@ethersproject/providers'\nimport { Currency, currencyEquals, ETHER, Percent, WETH } from '@pancakeswap/sdk'\nimport { Button, Text, AddIcon, ArrowDownIcon, CardBody, Slider, Box, Flex, useModal } from '@pancakeswap/uikit'\nimport { RouteComponentProps } from 'react-router'\nimport { BigNumber } from '@ethersproject/bignumber'\nimport { useTranslation } from 'contexts/Localization'\nimport { AutoColumn, ColumnCenter } from '../../components/Layout/Column'\nimport TransactionConfirmationModal, { ConfirmationModalContent } from '../../components/TransactionConfirmationModal'\nimport CurrencyInputPanel from '../../components/CurrencyInputPanel'\nimport { MinimalPositionCard } from '../../components/PositionCard'\nimport { AppHeader, AppBody } from '../../components/App'\nimport { RowBetween, RowFixed } from '../../components/Layout/Row'\nimport ConnectWalletButton from '../../components/ConnectWalletButton'\nimport { LightGreyCard } from '../../components/Card'\n\nimport { CurrencyLogo, DoubleCurrencyLogo } from '../../components/Logo'\nimport { ROUTER_ADDRESS } from '../../config/constants'\nimport useActiveWeb3React from '../../hooks/useActiveWeb3React'\nimport { useCurrency } from '../../hooks/Tokens'\nimport { usePairContract } from '../../hooks/useContract'\nimport useTransactionDeadline from '../../hooks/useTransactionDeadline'\n\nimport { useTransactionAdder } from '../../state/transactions/hooks'\nimport StyledInternalLink from '../../components/Links'\nimport { calculateGasMargin, calculateSlippageAmount, getRouterContract } from '../../utils'\nimport { currencyId } from '../../utils/currencyId'\nimport useDebouncedChangeHandler from '../../hooks/useDebouncedChangeHandler'\nimport { wrappedCurrency } from '../../utils/wrappedCurrency'\nimport { useApproveCallback, ApprovalState } from '../../hooks/useApproveCallback'\nimport Dots from '../../components/Loader/Dots'\nimport { useBurnActionHandlers, useDerivedBurnInfo, useBurnState } from '../../state/burn/hooks'\n\nimport { Field } from '../../state/burn/actions'\nimport { useUserSlippageTolerance } from '../../state/user/hooks'\nimport Page from '../Page'\n\nconst BorderCard = styled.div`\n  border: solid 1px ${({ theme }) => theme.colors.cardBorder};\n  border-radius: 16px;\n  padding: 16px;\n`\n\nexport default function RemoveLiquidity({\n  history,\n  match: {\n    params: { currencyIdA, currencyIdB },\n  },\n}: RouteComponentProps<{ currencyIdA: string; currencyIdB: string }>) {\n  const [currencyA, currencyB] = [useCurrency(currencyIdA) ?? undefined, useCurrency(currencyIdB) ?? undefined]\n  const { account, chainId, library } = useActiveWeb3React()\n  const [tokenA, tokenB] = useMemo(\n    () => [wrappedCurrency(currencyA, chainId), wrappedCurrency(currencyB, chainId)],\n    [currencyA, currencyB, chainId],\n  )\n\n  const { t } = useTranslation()\n\n  // burn state\n  const { independentField, typedValue } = useBurnState()\n  const { pair, parsedAmounts, error } = useDerivedBurnInfo(currencyA ?? undefined, currencyB ?? undefined)\n  const { onUserInput: _onUserInput } = useBurnActionHandlers()\n  const isValid = !error\n\n  // modal and loading\n  const [showDetailed, setShowDetailed] = useState<boolean>(false)\n  const [attemptingTxn, setAttemptingTxn] = useState(false) // clicked confirm\n\n  // txn values\n  const [txHash, setTxHash] = useState<string>('')\n  const deadline = useTransactionDeadline()\n  const [allowedSlippage] = useUserSlippageTolerance()\n\n  const formattedAmounts = {\n    [Field.LIQUIDITY_PERCENT]: parsedAmounts[Field.LIQUIDITY_PERCENT].equalTo('0')\n      ? '0'\n      : parsedAmounts[Field.LIQUIDITY_PERCENT].lessThan(new Percent('1', '100'))\n      ? '<1'\n      : parsedAmounts[Field.LIQUIDITY_PERCENT].toFixed(0),\n    [Field.LIQUIDITY]:\n      independentField === Field.LIQUIDITY ? typedValue : parsedAmounts[Field.LIQUIDITY]?.toSignificant(6) ?? '',\n    [Field.CURRENCY_A]:\n      independentField === Field.CURRENCY_A ? typedValue : parsedAmounts[Field.CURRENCY_A]?.toSignificant(6) ?? '',\n    [Field.CURRENCY_B]:\n      independentField === Field.CURRENCY_B ? typedValue : parsedAmounts[Field.CURRENCY_B]?.toSignificant(6) ?? '',\n  }\n\n  const atMaxAmount = parsedAmounts[Field.LIQUIDITY_PERCENT]?.equalTo(new Percent('1'))\n\n  // pair contract\n  const pairContract: Contract | null = usePairContract(pair?.liquidityToken?.address)\n\n  // allowance handling\n  const [signatureData, setSignatureData] = useState<{ v: number; r: string; s: string; deadline: number } | null>(null)\n  const [approval, approveCallback] = useApproveCallback(parsedAmounts[Field.LIQUIDITY], ROUTER_ADDRESS)\n\n  async function onAttemptToApprove() {\n    if (!pairContract || !pair || !library || !deadline) throw new Error('missing dependencies')\n    const liquidityAmount = parsedAmounts[Field.LIQUIDITY]\n    if (!liquidityAmount) throw new Error('missing liquidity amount')\n\n    // try to gather a signature for permission\n    const nonce = await pairContract.nonces(account)\n\n    const EIP712Domain = [\n      { name: 'name', type: 'string' },\n      { name: 'version', type: 'string' },\n      { name: 'chainId', type: 'uint256' },\n      { name: 'verifyingContract', type: 'address' },\n    ]\n    const domain = {\n      name: 'Pancake LPs',\n      version: '1',\n      chainId,\n      verifyingContract: pair.liquidityToken.address,\n    }\n    const Permit = [\n      { name: 'owner', type: 'address' },\n      { name: 'spender', type: 'address' },\n      { name: 'value', type: 'uint256' },\n      { name: 'nonce', type: 'uint256' },\n      { name: 'deadline', type: 'uint256' },\n    ]\n    const message = {\n      owner: account,\n      spender: ROUTER_ADDRESS,\n      value: liquidityAmount.raw.toString(),\n      nonce: nonce.toHexString(),\n      deadline: deadline.toNumber(),\n    }\n    const data = JSON.stringify({\n      types: {\n        EIP712Domain,\n        Permit,\n      },\n      domain,\n      primaryType: 'Permit',\n      message,\n    })\n\n    library\n      .send('eth_signTypedData_v4', [account, data])\n      .then(splitSignature)\n      .then((signature) => {\n        setSignatureData({\n          v: signature.v,\n          r: signature.r,\n          s: signature.s,\n          deadline: deadline.toNumber(),\n        })\n      })\n      .catch((err) => {\n        // for all errors other than 4001 (EIP-1193 user rejected request), fall back to manual approve\n        if (err?.code !== 4001) {\n          approveCallback()\n        }\n      })\n  }\n\n  // wrapped onUserInput to clear signatures\n  const onUserInput = useCallback(\n    (field: Field, value: string) => {\n      setSignatureData(null)\n      return _onUserInput(field, value)\n    },\n    [_onUserInput],\n  )\n\n  const onLiquidityInput = useCallback((value: string): void => onUserInput(Field.LIQUIDITY, value), [onUserInput])\n  const onCurrencyAInput = useCallback((value: string): void => onUserInput(Field.CURRENCY_A, value), [onUserInput])\n  const onCurrencyBInput = useCallback((value: string): void => onUserInput(Field.CURRENCY_B, value), [onUserInput])\n\n  // tx sending\n  const addTransaction = useTransactionAdder()\n  async function onRemove() {\n    if (!chainId || !library || !account || !deadline) throw new Error('missing dependencies')\n    const { [Field.CURRENCY_A]: currencyAmountA, [Field.CURRENCY_B]: currencyAmountB } = parsedAmounts\n    if (!currencyAmountA || !currencyAmountB) {\n      throw new Error('missing currency amounts')\n    }\n    const router = getRouterContract(chainId, library, account)\n\n    const amountsMin = {\n      [Field.CURRENCY_A]: calculateSlippageAmount(currencyAmountA, allowedSlippage)[0],\n      [Field.CURRENCY_B]: calculateSlippageAmount(currencyAmountB, allowedSlippage)[0],\n    }\n\n    if (!currencyA || !currencyB) throw new Error('missing tokens')\n    const liquidityAmount = parsedAmounts[Field.LIQUIDITY]\n    if (!liquidityAmount) throw new Error('missing liquidity amount')\n\n    const currencyBIsETH = currencyB === ETHER\n    const oneCurrencyIsETH = currencyA === ETHER || currencyBIsETH\n\n    if (!tokenA || !tokenB) throw new Error('could not wrap')\n\n    let methodNames: string[]\n    let args: Array<string | string[] | number | boolean>\n    // we have approval, use normal remove liquidity\n    if (approval === ApprovalState.APPROVED) {\n      // removeLiquidityETH\n      if (oneCurrencyIsETH) {\n        methodNames = ['removeLiquidityETH', 'removeLiquidityETHSupportingFeeOnTransferTokens']\n        args = [\n          currencyBIsETH ? tokenA.address : tokenB.address,\n          liquidityAmount.raw.toString(),\n          amountsMin[currencyBIsETH ? Field.CURRENCY_A : Field.CURRENCY_B].toString(),\n          amountsMin[currencyBIsETH ? Field.CURRENCY_B : Field.CURRENCY_A].toString(),\n          account,\n          deadline.toHexString(),\n        ]\n      }\n      // removeLiquidity\n      else {\n        methodNames = ['removeLiquidity']\n        args = [\n          tokenA.address,\n          tokenB.address,\n          liquidityAmount.raw.toString(),\n          amountsMin[Field.CURRENCY_A].toString(),\n          amountsMin[Field.CURRENCY_B].toString(),\n          account,\n          deadline.toHexString(),\n        ]\n      }\n    }\n    // we have a signataure, use permit versions of remove liquidity\n    else if (signatureData !== null) {\n      // removeLiquidityETHWithPermit\n      if (oneCurrencyIsETH) {\n        methodNames = ['removeLiquidityETHWithPermit', 'removeLiquidityETHWithPermitSupportingFeeOnTransferTokens']\n        args = [\n          currencyBIsETH ? tokenA.address : tokenB.address,\n          liquidityAmount.raw.toString(),\n          amountsMin[currencyBIsETH ? Field.CURRENCY_A : Field.CURRENCY_B].toString(),\n          amountsMin[currencyBIsETH ? Field.CURRENCY_B : Field.CURRENCY_A].toString(),\n          account,\n          signatureData.deadline,\n          false,\n          signatureData.v,\n          signatureData.r,\n          signatureData.s,\n        ]\n      }\n      // removeLiquidityETHWithPermit\n      else {\n        methodNames = ['removeLiquidityWithPermit']\n        args = [\n          tokenA.address,\n          tokenB.address,\n          liquidityAmount.raw.toString(),\n          amountsMin[Field.CURRENCY_A].toString(),\n          amountsMin[Field.CURRENCY_B].toString(),\n          account,\n          signatureData.deadline,\n          false,\n          signatureData.v,\n          signatureData.r,\n          signatureData.s,\n        ]\n      }\n    } else {\n      throw new Error('Attempting to confirm without approval or a signature. Please contact support.')\n    }\n\n    const safeGasEstimates: (BigNumber | undefined)[] = await Promise.all(\n      methodNames.map((methodName) =>\n        router.estimateGas[methodName](...args)\n          .then(calculateGasMargin)\n          .catch((err) => {\n            console.error(`estimateGas failed`, methodName, args, err)\n            return undefined\n          }),\n      ),\n    )\n\n    const indexOfSuccessfulEstimation = safeGasEstimates.findIndex((safeGasEstimate) =>\n      BigNumber.isBigNumber(safeGasEstimate),\n    )\n\n    // all estimations failed...\n    if (indexOfSuccessfulEstimation === -1) {\n      console.error('This transaction would fail. Please contact support.')\n    } else {\n      const methodName = methodNames[indexOfSuccessfulEstimation]\n      const safeGasEstimate = safeGasEstimates[indexOfSuccessfulEstimation]\n\n      setAttemptingTxn(true)\n      await router[methodName](...args, {\n        gasLimit: safeGasEstimate,\n      })\n        .then((response: TransactionResponse) => {\n          setAttemptingTxn(false)\n\n          addTransaction(response, {\n            summary: `Remove ${parsedAmounts[Field.CURRENCY_A]?.toSignificant(3)} ${\n              currencyA?.symbol\n            } and ${parsedAmounts[Field.CURRENCY_B]?.toSignificant(3)} ${currencyB?.symbol}`,\n          })\n\n          setTxHash(response.hash)\n        })\n        .catch((err: Error) => {\n          setAttemptingTxn(false)\n          // we only care if the error is something _other_ than the user rejected the tx\n          console.error(err)\n        })\n    }\n  }\n\n  function modalHeader() {\n    return (\n      <AutoColumn gap=\"md\">\n        <RowBetween align=\"flex-end\">\n          <Text fontSize=\"24px\">{parsedAmounts[Field.CURRENCY_A]?.toSignificant(6)}</Text>\n          <RowFixed gap=\"4px\">\n            <CurrencyLogo currency={currencyA} size=\"24px\" />\n            <Text fontSize=\"24px\" ml=\"10px\">\n              {currencyA?.symbol}\n            </Text>\n          </RowFixed>\n        </RowBetween>\n        <RowFixed>\n          <AddIcon width=\"16px\" />\n        </RowFixed>\n        <RowBetween align=\"flex-end\">\n          <Text fontSize=\"24px\">{parsedAmounts[Field.CURRENCY_B]?.toSignificant(6)}</Text>\n          <RowFixed gap=\"4px\">\n            <CurrencyLogo currency={currencyB} size=\"24px\" />\n            <Text fontSize=\"24px\" ml=\"10px\">\n              {currencyB?.symbol}\n            </Text>\n          </RowFixed>\n        </RowBetween>\n\n        <Text small textAlign=\"left\" pt=\"12px\">\n          {t('Output is estimated. If the price changes by more than %slippage%% your transaction will revert.', {\n            slippage: allowedSlippage / 100,\n          })}\n        </Text>\n      </AutoColumn>\n    )\n  }\n\n  function modalBottom() {\n    return (\n      <>\n        <RowBetween>\n          {t('%assetA%/%assetB% Burned', { assetA: currencyA?.symbol ?? '', assetB: currencyB?.symbol ?? '' })}\n          <RowFixed>\n            <DoubleCurrencyLogo currency0={currencyA} currency1={currencyB} margin />\n            <Text>{parsedAmounts[Field.LIQUIDITY]?.toSignificant(6)}</Text>\n          </RowFixed>\n        </RowBetween>\n        {pair && (\n          <>\n            <RowBetween>\n              <Text>{t('Price')}</Text>\n              <Text>\n                1 {currencyA?.symbol} = {tokenA ? pair.priceOf(tokenA).toSignificant(6) : '-'} {currencyB?.symbol}\n              </Text>\n            </RowBetween>\n            <RowBetween>\n              <div />\n              <Text>\n                1 {currencyB?.symbol} = {tokenB ? pair.priceOf(tokenB).toSignificant(6) : '-'} {currencyA?.symbol}\n              </Text>\n            </RowBetween>\n          </>\n        )}\n        <Button disabled={!(approval === ApprovalState.APPROVED || signatureData !== null)} onClick={onRemove}>\n          {t('Confirm')}\n        </Button>\n      </>\n    )\n  }\n\n  const pendingText = t('Removing %amountA% %symbolA% and %amountB% %symbolB%', {\n    amountA: parsedAmounts[Field.CURRENCY_A]?.toSignificant(6) ?? '',\n    symbolA: currencyA?.symbol ?? '',\n    amountB: parsedAmounts[Field.CURRENCY_B]?.toSignificant(6) ?? '',\n    symbolB: currencyB?.symbol ?? '',\n  })\n\n  const liquidityPercentChangeCallback = useCallback(\n    (value: number) => {\n      onUserInput(Field.LIQUIDITY_PERCENT, value.toString())\n    },\n    [onUserInput],\n  )\n\n  const oneCurrencyIsETH = currencyA === ETHER || currencyB === ETHER\n  const oneCurrencyIsWETH = Boolean(\n    chainId &&\n      ((currencyA && currencyEquals(WETH[chainId], currencyA)) ||\n        (currencyB && currencyEquals(WETH[chainId], currencyB))),\n  )\n\n  const handleSelectCurrencyA = useCallback(\n    (currency: Currency) => {\n      if (currencyIdB && currencyId(currency) === currencyIdB) {\n        history.push(`/remove/${currencyId(currency)}/${currencyIdA}`)\n      } else {\n        history.push(`/remove/${currencyId(currency)}/${currencyIdB}`)\n      }\n    },\n    [currencyIdA, currencyIdB, history],\n  )\n  const handleSelectCurrencyB = useCallback(\n    (currency: Currency) => {\n      if (currencyIdA && currencyId(currency) === currencyIdA) {\n        history.push(`/remove/${currencyIdB}/${currencyId(currency)}`)\n      } else {\n        history.push(`/remove/${currencyIdA}/${currencyId(currency)}`)\n      }\n    },\n    [currencyIdA, currencyIdB, history],\n  )\n\n  const handleDismissConfirmation = useCallback(() => {\n    setSignatureData(null) // important that we clear signature data to avoid bad sigs\n    // if there was a tx hash, we want to clear the input\n    if (txHash) {\n      onUserInput(Field.LIQUIDITY_PERCENT, '0')\n    }\n    setTxHash('')\n  }, [onUserInput, txHash])\n\n  const [innerLiquidityPercentage, setInnerLiquidityPercentage] = useDebouncedChangeHandler(\n    Number.parseInt(parsedAmounts[Field.LIQUIDITY_PERCENT].toFixed(0)),\n    liquidityPercentChangeCallback,\n  )\n\n  const [onPresentRemoveLiquidity] = useModal(\n    <TransactionConfirmationModal\n      title={t('You will receive')}\n      customOnDismiss={handleDismissConfirmation}\n      attemptingTxn={attemptingTxn}\n      hash={txHash || ''}\n      content={() => <ConfirmationModalContent topContent={modalHeader} bottomContent={modalBottom} />}\n      pendingText={pendingText}\n    />,\n    true,\n    true,\n    'removeLiquidityModal',\n  )\n\n  return (\n    <Page>\n      <AppBody>\n        <AppHeader\n          backTo=\"/pool\"\n          title={t('Remove %assetA%-%assetB% liquidity', {\n            assetA: currencyA?.symbol ?? '',\n            assetB: currencyB?.symbol ?? '',\n          })}\n          subtitle={`To receive ${currencyA?.symbol} and ${currencyB?.symbol}`}\n          noConfig\n        />\n\n        <CardBody>\n          <AutoColumn gap=\"20px\">\n            <RowBetween>\n              <Text>{t('Amount')}</Text>\n              <Button variant=\"text\" scale=\"sm\" onClick={() => setShowDetailed(!showDetailed)}>\n                {showDetailed ? t('Simple') : t('Detailed')}\n              </Button>\n            </RowBetween>\n            {!showDetailed && (\n              <BorderCard>\n                <Text fontSize=\"40px\" bold mb=\"16px\" style={{ lineHeight: 1 }}>\n                  {formattedAmounts[Field.LIQUIDITY_PERCENT]}%\n                </Text>\n                <Slider\n                  name=\"lp-amount\"\n                  min={0}\n                  max={100}\n                  value={innerLiquidityPercentage}\n                  onValueChanged={(value) => setInnerLiquidityPercentage(Math.ceil(value))}\n                  mb=\"16px\"\n                />\n                <Flex flexWrap=\"wrap\" justifyContent=\"space-evenly\">\n                  <Button variant=\"tertiary\" scale=\"sm\" onClick={() => onUserInput(Field.LIQUIDITY_PERCENT, '25')}>\n                    25%\n                  </Button>\n                  <Button variant=\"tertiary\" scale=\"sm\" onClick={() => onUserInput(Field.LIQUIDITY_PERCENT, '50')}>\n                    50%\n                  </Button>\n                  <Button variant=\"tertiary\" scale=\"sm\" onClick={() => onUserInput(Field.LIQUIDITY_PERCENT, '75')}>\n                    75%\n                  </Button>\n                  <Button variant=\"tertiary\" scale=\"sm\" onClick={() => onUserInput(Field.LIQUIDITY_PERCENT, '100')}>\n                    Max\n                  </Button>\n                </Flex>\n              </BorderCard>\n            )}\n          </AutoColumn>\n          {!showDetailed && (\n            <>\n              <ColumnCenter>\n                <ArrowDownIcon color=\"textSubtle\" width=\"24px\" my=\"16px\" />\n              </ColumnCenter>\n              <AutoColumn gap=\"10px\">\n                <Text bold color=\"secondary\" fontSize=\"12px\" textTransform=\"uppercase\">\n                  {t('You will receive')}\n                </Text>\n                <LightGreyCard>\n                  <Flex justifyContent=\"space-between\" mb=\"8px\">\n                    <Flex>\n                      <CurrencyLogo currency={currencyA} />\n                      <Text small color=\"textSubtle\" id=\"remove-liquidity-tokena-symbol\" ml=\"4px\">\n                        {currencyA?.symbol}\n                      </Text>\n                    </Flex>\n                    <Text small>{formattedAmounts[Field.CURRENCY_A] || '-'}</Text>\n                  </Flex>\n                  <Flex justifyContent=\"space-between\">\n                    <Flex>\n                      <CurrencyLogo currency={currencyB} />\n                      <Text small color=\"textSubtle\" id=\"remove-liquidity-tokenb-symbol\" ml=\"4px\">\n                        {currencyB?.symbol}\n                      </Text>\n                    </Flex>\n                    <Text small>{formattedAmounts[Field.CURRENCY_B] || '-'}</Text>\n                  </Flex>\n                  {chainId && (oneCurrencyIsWETH || oneCurrencyIsETH) ? (\n                    <RowBetween style={{ justifyContent: 'flex-end', fontSize: '14px' }}>\n                      {oneCurrencyIsETH ? (\n                        <StyledInternalLink\n                          to={`/remove/${currencyA === ETHER ? WETH[chainId].address : currencyIdA}/${\n                            currencyB === ETHER ? WETH[chainId].address : currencyIdB\n                          }`}\n                        >\n                          {t('Receive WBNB')}\n                        </StyledInternalLink>\n                      ) : oneCurrencyIsWETH ? (\n                        <StyledInternalLink\n                          to={`/remove/${currencyA && currencyEquals(currencyA, WETH[chainId]) ? 'BNB' : currencyIdA}/${\n                            currencyB && currencyEquals(currencyB, WETH[chainId]) ? 'BNB' : currencyIdB\n                          }`}\n                        >\n                          {t('Receive BNB')}\n                        </StyledInternalLink>\n                      ) : null}\n                    </RowBetween>\n                  ) : null}\n                </LightGreyCard>\n              </AutoColumn>\n            </>\n          )}\n\n          {showDetailed && (\n            <Box my=\"16px\">\n              <CurrencyInputPanel\n                value={formattedAmounts[Field.LIQUIDITY]}\n                onUserInput={onLiquidityInput}\n                onMax={() => {\n                  onUserInput(Field.LIQUIDITY_PERCENT, '100')\n                }}\n                showMaxButton={!atMaxAmount}\n                disableCurrencySelect\n                currency={pair?.liquidityToken}\n                pair={pair}\n                id=\"liquidity-amount\"\n                onCurrencySelect={() => null}\n              />\n              <ColumnCenter>\n                <ArrowDownIcon width=\"24px\" my=\"16px\" />\n              </ColumnCenter>\n              <CurrencyInputPanel\n                hideBalance\n                value={formattedAmounts[Field.CURRENCY_A]}\n                onUserInput={onCurrencyAInput}\n                onMax={() => onUserInput(Field.LIQUIDITY_PERCENT, '100')}\n                showMaxButton={!atMaxAmount}\n                currency={currencyA}\n                label={t('Output')}\n                onCurrencySelect={handleSelectCurrencyA}\n                id=\"remove-liquidity-tokena\"\n              />\n              <ColumnCenter>\n                <AddIcon width=\"24px\" my=\"16px\" />\n              </ColumnCenter>\n              <CurrencyInputPanel\n                hideBalance\n                value={formattedAmounts[Field.CURRENCY_B]}\n                onUserInput={onCurrencyBInput}\n                onMax={() => onUserInput(Field.LIQUIDITY_PERCENT, '100')}\n                showMaxButton={!atMaxAmount}\n                currency={currencyB}\n                label={t('Output')}\n                onCurrencySelect={handleSelectCurrencyB}\n                id=\"remove-liquidity-tokenb\"\n              />\n            </Box>\n          )}\n          {pair && (\n            <AutoColumn gap=\"10px\" style={{ marginTop: '16px' }}>\n              <Text bold color=\"secondary\" fontSize=\"12px\" textTransform=\"uppercase\">\n                {t('Prices')}\n              </Text>\n              <LightGreyCard>\n                <Flex justifyContent=\"space-between\">\n                  <Text small color=\"textSubtle\">\n                    1 {currencyA?.symbol} =\n                  </Text>\n                  <Text small>\n                    {tokenA ? pair.priceOf(tokenA).toSignificant(6) : '-'} {currencyB?.symbol}\n                  </Text>\n                </Flex>\n                <Flex justifyContent=\"space-between\">\n                  <Text small color=\"textSubtle\">\n                    1 {currencyB?.symbol} =\n                  </Text>\n                  <Text small>\n                    {tokenB ? pair.priceOf(tokenB).toSignificant(6) : '-'} {currencyA?.symbol}\n                  </Text>\n                </Flex>\n              </LightGreyCard>\n            </AutoColumn>\n          )}\n          <Box position=\"relative\" mt=\"16px\">\n            {!account ? (\n              <ConnectWalletButton />\n            ) : (\n              <RowBetween>\n                <Button\n                  variant={approval === ApprovalState.APPROVED || signatureData !== null ? 'success' : 'primary'}\n                  onClick={onAttemptToApprove}\n                  disabled={approval !== ApprovalState.NOT_APPROVED || signatureData !== null}\n                  width=\"100%\"\n                  mr=\"0.5rem\"\n                >\n                  {approval === ApprovalState.PENDING ? (\n                    <Dots>{t('Enabling')}</Dots>\n                  ) : approval === ApprovalState.APPROVED || signatureData !== null ? (\n                    t('Enabled')\n                  ) : (\n                    t('Enable')\n                  )}\n                </Button>\n                <Button\n                  variant={\n                    !isValid && !!parsedAmounts[Field.CURRENCY_A] && !!parsedAmounts[Field.CURRENCY_B]\n                      ? 'danger'\n                      : 'primary'\n                  }\n                  onClick={() => {\n                    onPresentRemoveLiquidity()\n                  }}\n                  width=\"100%\"\n                  disabled={!isValid || (signatureData === null && approval !== ApprovalState.APPROVED)}\n                >\n                  {error || t('Remove')}\n                </Button>\n              </RowBetween>\n            )}\n          </Box>\n        </CardBody>\n      </AppBody>\n\n      {pair ? (\n        <AutoColumn style={{ minWidth: '20rem', width: '100%', maxWidth: '400px', marginTop: '1rem' }}>\n          <MinimalPositionCard showUnwrapped={oneCurrencyIsWETH} pair={pair} />\n        </AutoColumn>\n      ) : null}\n    </Page>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}